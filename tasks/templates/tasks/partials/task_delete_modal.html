{% load static %}
<div class="modal fade show" id="deleteTaskModal" tabindex="-1" style="display: block; background-color: rgba(0,0,0,0.5);">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header border-0 pb-0">
                <button type="button" class="btn-close" onclick="document.getElementById('modal-container').innerHTML = ''"></button>
            </div>
            <div class="modal-body">
                <p class="mb-3">Are you sure you want to delete this task?</p>
                <div class="alert alert-light border">
                    <strong>{{ task.name }}</strong>
                    {% if task.priority == 'high' %}
                        <span class="badge bg-danger ms-2">High Priority</span>
                    {% elif task.priority == 'medium' %}
                        <span class="badge bg-warning ms-2">Medium Priority</span>
                    {% elif task.priority == 'low' %}
                        <span class="badge bg-secondary ms-2">Low Priority</span>
                    {% endif %}
                </div>
                <p class="text-muted small mb-0">
                    <i class="fas fa-info-circle me-1"></i>
                    This action cannot be undone
                </p>
            </div>
            <div class="modal-footer border-0 pt-0">
                <button type="button" 
                        class="btn btn-secondary" 
                        onclick="document.getElementById('modal-container').innerHTML = ''">
                    <i class="fas fa-times me-1"></i>
                    Cancel
                </button>
                <button type="button" 
                        class="btn btn-danger"
                        hx-delete="{% url 'tasks:delete_task_htmx' task_pk=task.pk %}"
                        hx-target="#task-{{ task.pk }}"
                        hx-swap="outerHTML"
                        hx-on::after-request="document.getElementById('modal-container').innerHTML = ''">
                    <i class="fas fa-trash me-1"></i>
                    Delete Forever
                </button>
            </div>
        </div>
    </div>
</div>